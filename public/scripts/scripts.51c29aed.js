"use strict";angular.module("scribeApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","backand","chart.js"]).config(["$routeProvider","BackandProvider","$locationProvider",function(a,b,c){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/uploadform",{templateUrl:"views/uploadform.html",controller:"UploadformCtrl",controllerAs:"uploadForm"}).when("/upload-collection",{templateUrl:"views/uploadform.html",controller:"UploadformCtrl",controllerAs:"uploadForm"}).when("/upload-notebook",{templateUrl:"views/uploadform.html",controller:"UploadformCtrl",controllerAs:"uploadForm"}).when("/swipe",{templateUrl:"views/swipe.html",controller:"SwipeCtrl",controllerAs:"swipe"}).when("/finish",{templateUrl:"views/finish.html",controller:"FinishCtrl",controllerAs:"finish"}).when("/admin",{templateUrl:"views/admin.html",controller:"AdminCtrl",controllerAs:"admin"}).when("/newnotebook",{templateUrl:"views/newnotebook.html",controller:"NewnotebookCtrl",controllerAs:"newnotebook"}).when("/stats",{templateUrl:"views/stats.html",controller:"StatsCtrl",controllerAs:"stats"}).when("/loginAdmin",{templateUrl:"views/loginadmin.html",controller:"LoginadminCtrl",controllerAs:"loginAdmin"}).when("/config",{templateUrl:"views/config.html",controller:"ConfigCtrl",controllerAs:"config"}).otherwise({redirectTo:"/"}),b.setAppName("scribe"),b.setSignUpToken("1a6494b3-0874-4ca7-81e4-abebda17f6d1"),b.setAnonymousToken("a3cacd9a-831f-4aa8-8872-7d80470a000e"),c.hashPrefix("")}]).factory("Fact",function(){return{userGender:{gender:""},userAge:{age:""},userAdmin:{id:null},collectionDetail:{id:null}}}),function(a,b,c,d,e){function f(b){b=b.split(")");var c,e,f,g=a.trim,h=-1,i=b.length-1,j=x?new Float32Array(6):[],k=x?new Float32Array(6):[],l=x?new Float32Array(6):[1,0,0,1,0,0];for(j[0]=j[3]=l[0]=l[3]=1,j[1]=j[2]=j[4]=j[5]=0;++h<i;){switch(c=b[h].split("("),e=g(c[0]),f=c[1],k[0]=k[3]=1,k[1]=k[2]=k[4]=k[5]=0,e){case C+"X":k[4]=parseInt(f,10);break;case C+"Y":k[5]=parseInt(f,10);break;case C:f=f.split(","),k[4]=parseInt(f[0],10),k[5]=parseInt(f[1]||0,10);break;case D:f=m(f),k[0]=d.cos(f),k[1]=d.sin(f),k[2]=-d.sin(f),k[3]=d.cos(f);break;case E+"X":k[0]=+f;break;case E+"Y":k[3]=f;break;case E:f=f.split(","),k[0]=f[0],k[3]=f.length>1?f[1]:f[0];break;case F+"X":k[2]=d.tan(m(f));break;case F+"Y":k[1]=d.tan(m(f));break;case G:f=f.split(","),k[0]=f[0],k[1]=f[1],k[2]=f[2],k[3]=f[3],k[4]=parseInt(f[4],10),k[5]=parseInt(f[5],10)}l[0]=j[0]*k[0]+j[2]*k[1],l[1]=j[1]*k[0]+j[3]*k[1],l[2]=j[0]*k[2]+j[2]*k[3],l[3]=j[1]*k[2]+j[3]*k[3],l[4]=j[0]*k[4]+j[2]*k[5]+j[4],l[5]=j[1]*k[4]+j[3]*k[5]+j[5],j=[l[0],l[1],l[2],l[3],l[4],l[5]]}return l}function g(a){var b,c,e,f=a[0],g=a[1],h=a[2],i=a[3];return f*i-g*h?(b=d.sqrt(f*f+g*g),f/=b,g/=b,e=f*h+g*i,h-=f*e,i-=g*e,c=d.sqrt(h*h+i*i),h/=c,i/=c,e/=c,g*h>f*i&&(f=-f,g=-g,e=-e,b=-b)):b=c=e=0,[[C,[+a[4],+a[5]]],[D,d.atan2(g,f)],[F+"X",d.atan(e)],[E,[b,c]]]}function h(b,c){var d,e,h,m,o={start:[],end:[]},p=-1;if(("none"==b||j(b))&&(b=""),("none"==c||j(c))&&(c=""),b&&c&&!c.indexOf("matrix")&&n(b).join()==n(c.split(")")[0]).join()&&(o.origin=b,b="",c=c.slice(c.indexOf(")")+1)),b||c){if(b&&c&&k(b)!=k(c))o.start=g(f(b)),o.end=g(f(c));else for(b&&(b=b.split(")"))&&(d=b.length),c&&(c=c.split(")"))&&(d=c.length);++p<d-1;)b[p]&&(e=b[p].split("(")),c[p]&&(h=c[p].split("(")),m=a.trim((e||h)[0]),l(o.start,i(m,e?e[1]:0)),l(o.end,i(m,h?h[1]:0));return o}}function i(a,b){var c,d=+!a.indexOf(E),e=a.replace(/e[XY]/,"e");switch(a){case C+"Y":case E+"Y":b=[d,b?parseFloat(b):d];break;case C+"X":case C:case E+"X":c=1;case E:b=b?(b=b.split(","))&&[parseFloat(b[0]),parseFloat(b.length>1?b[1]:a==E?c||b[0]:d+"")]:[d,d];break;case F+"X":case F+"Y":case D:b=b?m(b):0;break;case G:return g(b?n(b):[1,0,0,1,0,0])}return[[e,b]]}function j(a){return z.test(a)}function k(a){return a.replace(/(?:\([^)]*\))|\s/g,"")}function l(a,b,c){for(;c=b.shift();)a.push(c)}function m(a){return~a.indexOf("deg")?parseInt(a,10)*(2*d.PI/360):~a.indexOf("grad")?parseInt(a,10)*(d.PI/200):parseFloat(a)}function n(a){return a=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(a),[a[1],a[2],a[3],a[4],a[5],a[6]]}for(var o,p,q,r,s=c.createElement("div"),t=s.style,u="Transform",v=["O"+u,"ms"+u,"Webkit"+u,"Moz"+u],w=v.length,x=("Float32Array"in b),y=/Matrix([^)]*)/,z=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,A="transform",B="transformOrigin",C="translate",D="rotate",E="scale",F="skew",G="matrix";w--;)v[w]in t&&(a.support[A]=o=v[w],a.support[B]=o+"Origin");o||(a.support.matrixFilter=p=""===t.filter),a.cssNumber[A]=a.cssNumber[B]=!0,o&&o!=A?(a.cssProps[A]=o,a.cssProps[B]=o+"Origin",o=="Moz"+u?q={get:function(b,c){return c?a.css(b,o).split("px").join(""):b.style[o]},set:function(a,b){a.style[o]=/matrix\([^)p]*\)/.test(b)?b.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,G+"$1$2px,$3px"):b}}:/^1\.[0-5](?:\.|$)/.test(a.fn.jquery)&&(q={get:function(b,c){return c?a.css(b,o.replace(/^ms/,"Ms")):b.style[o]}})):p&&(q={get:function(b,c,d){var f,g,h=c&&b.currentStyle?b.currentStyle:b.style;return h&&y.test(h.filter)?(f=RegExp.$1.split(","),f=[f[0].split("=")[1],f[2].split("=")[1],f[1].split("=")[1],f[3].split("=")[1]]):f=[1,0,0,1],a.cssHooks[B]?(g=a._data(b,"transformTranslate",e),f[4]=g?g[0]:0,f[5]=g?g[1]:0):(f[4]=h?parseInt(h.left,10)||0:0,f[5]=h?parseInt(h.top,10)||0:0),d?f:G+"("+f+")"},set:function(b,c,d){var e,g,h,i,j=b.style;d||(j.zoom=1),c=f(c),g=["Matrix(M11="+c[0],"M12="+c[2],"M21="+c[1],"M22="+c[3],"SizingMethod='auto expand'"].join(),h=(e=b.currentStyle)&&e.filter||j.filter||"",j.filter=y.test(h)?h.replace(y,g):h+" progid:DXImageTransform.Microsoft."+g+")",a.cssHooks[B]?a.cssHooks[B].set(b,c):((i=a.transform.centerOrigin)&&(j["margin"==i?"marginLeft":"left"]=-(b.offsetWidth/2)+b.clientWidth/2+"px",j["margin"==i?"marginTop":"top"]=-(b.offsetHeight/2)+b.clientHeight/2+"px"),j.left=c[4]+"px",j.top=c[5]+"px")}}),q&&(a.cssHooks[A]=q),r=q&&q.get||a.css,a.fx.step.transform=function(b){var c,e,f,g,i=b.elem,j=b.start,k=b.end,l=b.pos,m="",n=1e5;for(j&&"string"!=typeof j||(j||(j=r(i,o)),p&&(i.style.zoom=1),k=k.split("+=").join(j),a.extend(b,h(j,k)),j=b.start,k=b.end),c=j.length;c--;)switch(e=j[c],f=k[c],g=0,e[0]){case C:g="px";case E:g||(g=""),m=e[0]+"("+d.round((e[1][0]+(f[1][0]-e[1][0])*l)*n)/n+g+","+d.round((e[1][1]+(f[1][1]-e[1][1])*l)*n)/n+g+")"+m;break;case F+"X":case F+"Y":case D:m=e[0]+"("+d.round((e[1]+(f[1]-e[1])*l)*n)/n+"rad)"+m}b.origin&&(m=b.origin+m),q&&q.set?q.set(i,m,1):i.style[o]=m},a.transform={centerOrigin:"margin"}}(jQuery,window,document,Math),function(a,b,c,d){function e(b,c){this.element=b,this.settings=a.extend({},h,c),this._defaults=h,this._name=g,this.init(b)}function f(){var b=a("#swipe-wrapper ul li:visible").length;console.log("remaining "+b),1==b&&(a("#swipe-wrapper, .reload-btn, .show-filter").hide(),a(".finish-step").removeClass("hidden"))}var g="jTinder",h={onDislike:null,onLike:null,animationRevertSpeed:200,animationSpeed:400,threshold:1,likeSelector:".like",dislikeSelector:".dislike"},i=null,j=null,k=null,l=0,m=0,n=!1,o=0,p=0,q=0,r=0,s=0,t=0,u=0;e.prototype={init:function(b){i=a(">ul",b),j=a(">ul>li",b),s=i.width(),t=j.length,u=j.length-1,k=this,a(b).bind("touchstart mousedown",this.handler),a(b).bind("touchmove mousemove",this.handler),a(b).bind("touchend mouseup",this.handler)},showPane:function(a){j.eq(u).hide(),u=a},next:function(){return this.showPane(u-1)},dislike:function(){j.eq(u).animate({transform:"translate(-"+s+"px,"+-1.5*s+"px) rotate(-60deg)"},k.settings.animationSpeed,function(){k.settings.onDislike&&k.settings.onDislike(j.eq(u)),k.next()})},like:function(){j.eq(u).animate({transform:"translate("+s+"px,"+-1.5*s+"px) rotate(60deg)"},k.settings.animationSpeed,function(){k.settings.onLike&&k.settings.onLike(j.eq(u)),k.next()})},undo:function(){u!==j.length-1&&(++u,j.eq(u).animate({transform:"translate(0px,0px) rotate(0deg)"},k.settings.animationRevertSpeed),j.eq(u).find(k.settings.likeSelector).css("opacity",0),j.eq(u).find(k.settings.dislikeSelector).css("opacity",0),j.eq(u).show())},handler:function(a){switch(a.preventDefault(),a.type){case"touchstart":n===!1&&(n=!0,l=a.originalEvent.touches[0].pageX,m=a.originalEvent.touches[0].pageY);case"mousedown":n===!1&&(n=!0,l=a.pageX,m=a.pageY);case"mousemove":case"touchmove":if(n===!0){var b="undefined"==typeof a.pageX?a.originalEvent.touches[0].pageX:a.pageX,c="undefined"==typeof a.pageY?a.originalEvent.touches[0].pageY:a.pageY,d=parseInt(b)-parseInt(l),e=parseInt(c)-parseInt(m),g=100/s*d/t;o=d+q,p=e+r,j.eq(u).css("transform","translate("+o+"px,"+p+"px) rotate("+g/2+"deg)");var h=Math.abs(d)/k.settings.threshold/100+.2;h>1&&(h=1),o>=0?(j.eq(u).find(k.settings.likeSelector).css("opacity",h),j.eq(u).find(k.settings.dislikeSelector).css("opacity",0)):0>o&&(j.eq(u).find(k.settings.dislikeSelector).css("opacity",h),j.eq(u).find(k.settings.likeSelector).css("opacity",0))}break;case"mouseup":case"touchend":n=!1;var b="undefined"==typeof a.pageX?a.originalEvent.changedTouches[0].pageX:a.pageX,c="undefined"==typeof a.pageY?a.originalEvent.changedTouches[0].pageY:a.pageY,d=parseInt(b)-parseInt(l),e=parseInt(c)-parseInt(m);o=d+q,p=e+r;var h=Math.abs(Math.abs(d)/k.settings.threshold/100+.2);h>=1?(o>0?j.eq(u).animate({transform:"translate("+s+"px,"+(p+s)+"px) rotate(60deg)"},k.settings.animationSpeed,function(){k.settings.onLike&&k.settings.onLike(j.eq(u)),k.next()}):j.eq(u).animate({transform:"translate(-"+s+"px,"+(p+s)+"px) rotate(-60deg)"},k.settings.animationSpeed,function(){k.settings.onDislike&&k.settings.onDislike(j.eq(u)),k.next()}),f()):(q=0,r=0,j.eq(u).animate({transform:"translate(0px,0px) rotate(0deg)"},k.settings.animationRevertSpeed),j.eq(u).find(k.settings.likeSelector).animate({opacity:0},k.settings.animationRevertSpeed),j.eq(u).find(k.settings.dislikeSelector).animate({opacity:0},k.settings.animationRevertSpeed))}}},a.fn[g]=function(b){return this.each(function(){a.data(this,"plugin_"+g)?a.isFunction(e.prototype[b])&&a.data(this,"plugin_"+g)[b]():a.data(this,"plugin_"+g,new e(this,b))}),this}}(jQuery,window,document),angular.module("scribeApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("scribeApp").controller("AboutCtrl",["$scope","$http","Fact",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.edad,a.genero,a.mapa_lat,a.mapa_long,navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){a.$apply(function(){a.mapa_lat=b.coords.latitude,a.mapa_long=b.coords.longitude})}),$(".genero img").click(function(){a.genero=$(this).data("genero"),"H"==a.genero?($(this).attr("src","images/card-men_selected.2692a863.svg"),$(".genero img[data-genero='M']").attr("src","images/card-woman.4ac0e4a0.svg"),a.selectedEvent=c.userGender.gender="H"):($(this).attr("src","images/card-woman_selected.cb8e0f3b.svg"),$(".genero img[data-genero='H']").attr("src","images/card-men.2cc06145.svg"),a.selectedEvent=c.userGender.gender="M"),$(".genero img").css("transform","scale(1)"),$(this).css({transform:"scale(1.25)"})}),a.readAge=function(b){a.selectedAges=c.userAge.age=b},a.sendDataUser=function(b){var c=$(".age-input").val();return 0==c.length||""==a.userGender?!1:void(window.location="#/swipe")}}]),angular.module("scribeApp").controller("UploadformCtrl",["$scope","$http","$timeout","upload",function(a,b,c,d){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.urlUpload="https://luisvardez.000webhostapp.com/upload.php",a.collection={},a.collectionsList,a.collectionsNames=[],a.notebookObject={},a.collectionSelected,a.resUploadFile,a.getCollectionList=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/collection?pageSize=20&pageNumber=1",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1}}).then(function(b){console.log(b.data.data),a.collectionsList=b.data.data,console.log(a.collectionsList),a.listCollectionNames()},function(a){alert("error")})},a.listCollectionNames=function(){var b;for(b=0;b<a.collectionsList.length;b++)a.collectionsNames.push(a.collectionsList[b].name);console.log(a.collectionsNames)},a.getCollectionList(),a.uploadCollection=function(){return $.inArray(a.collection.name,a.collectionsNames)>-1?(alert("la coleccion ya existe"),!1):($(".full-overlay").removeClass("hidden"),a.collectionSelected=a.collection.name,d.upload("picture",a.collectionSelected,"modal").then(function(c){"200"==c.status&&(a.collection.coverUrl=c.data,b.post("https://api.backand.com:443/1/objects/collection",a.collection,{headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"}}).then(function(b){alert("cargada con éxito"),a.collection.name="",a.getCollectionList(),$(".full-overlay").addClass("hidden")},function(a){alert("error")}))}),void 0)},a.setCollectionId=function(){a.notebookObject.collection=a.selectedCollection,console.log(a.collectionsList),a.collectionsList.forEach(function(b,c){b.id==a.selectedCollection&&(a.collectionSelected=b.name)},this)},a.uploadNotebook=function(){$(".full-overlay").removeClass("hidden"),d.upload("fileupload",a.collectionSelected,"notebook").then(function(c){"200"==c.status&&(a.notebookObject.coverSource=c.data,d.upload("fileupload2",a.collectionSelected,"detail").then(function(c){a.notebookObject.listCoverSource=c.data,b.post("https://api.backand.com:443/1/objects/notebook",a.notebookObject,{headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"}}).then(function(b){alert("cargada con éxito"),a.notebookObject={},a.selectedCollection={},$(".full-overlay").addClass("hidden"),$("#fileupload,#fileuload2").attr({value:""}),$(".img-prev").attr("src","").addClass("hidden")},function(a){alert("error")})}))})},a.getSingleCollection=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/collection/50",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1}}).then(function(b){console.log(b.data),a.getCollectionNotebooks()},function(a){alert("error")})},a.toggleTabContent=function(a){$(".tab-pane").css({display:"none"}),$(a).css({display:"block"})},a.getCollectionNotebooks=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/notebook?pageSize=20&pageNumber=1",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1,filter:[{fieldName:"collection",operator:"in",value:"50"}]}}).then(function(a){console.log(a.data.data)},function(a){alert("error")})},a.readURL=function(a){if(a.files&&a.files[0]){var b=new FileReader;b.onload=function(b){$(a).parent().next().attr("src",b.target.result),$(a).parent().next().removeClass("hidden")},b.readAsDataURL(a.files[0])}}}]),angular.module("scribeApp").directive("myRepeatDirective",function(){return function(a,b,c){a.$last&&($("#swipe-wrapper").css("display","block"),$(".congrats").css("display","none"),setTimeout(function(){a.initJtinder()},400))}}).controller("SwipeCtrl",["$document","$scope","$http","Fact","$timeout",function($document,$scope,$http,Fact,$timeout){function fillObject(category,item){"like"==category?(eval("$scope.ObjectLike."+category+'.push({"coleccion":item.data("coleccion"),"nombre":item.data("nombre"),"imagen":item.data("imagen"),"likedToMale":item.data("likedToMale"),"likedToFemale":item.data("likedToFemale"),"like":item.data("like")})'),$scope.getSelectedNotebook(item.data("id"),category)):(eval("$scope.ObjectLike."+category+'.push({"coleccion":item.data("coleccion"),"nombre":item.data("nombre"),"imagen":item.data("imagen"),"likedToMale":item.data("likedToMale"),"likedToFemale":item.data("likedToFemale"),"dislike":item.data("dislike"),"like":item.data("like")})'),$scope.getSelectedNotebook(item.data("id"),category))}this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],$scope.selection,$scope.ObjectLike={like:[],dislike:[]},$scope.detailElement;var storage=firebase.storage(),storageRef=storage.ref(),imagesRef=storageRef.child("images"),database=firebase.database();$("#collection-modal").modal("show"),$("#collection-modal").on("hidden.bs.modal",function(a){$("#swipe-wrapper").unbind().removeData(),$scope.initJtinder(),console.log("closing modal")}),$scope.collectionNotebooks={},$("#collection-modal").modal("show");var selectedCollection;$scope.initJtinder=function(){$("#swipe-wrapper").jTinder({onDislike:function(a){$("#status").html("Dislike image "+(a.index()+1)),fillObject("dislike",a),$(a).addClass("disliked")},onLike:function(a){$("#status").html("Like image "+(a.index()+1)),fillObject("like",a),$(a).addClass("liked")},animationRevertSpeed:200,animationSpeed:400,threshold:1,likeSelector:".like",dislikeSelector:".dislike"}),$(".actions .like, .actions .dislike").click(function(a){a.preventDefault(),$("#swipe-wrapper").jTinder($(this).attr("class"))})},$scope.changeView=function(a,b){$scope.selection=a,"preferences"==$scope.selection?setTimeout(function(){$scope.fillPreferencesList("like")},600):"content"==$scope.selection&&0==$scope.collectionNotebooks.length&&$("#collection-modal").modal("show")},$scope.getCollectionNotebooks=function(a){var b=firebase.database().ref("collections/"+a+"/notebooks");b.on("value",function(a){var b=a.val();$scope.collectionNotebooks=[],$.each(b,function(a,b){var c=firebase.database().ref("notebooks/"+b);c.once("value").then(function(c){var d=c.val();$timeout(function(){$scope.collectionNotebooks.push({id:b,coverSource:d.coverSource,name:d.name,key:a,likes:d.likes,dislike:d.dislikes,likedToFemale:d.likeFemale,likedToMale:d.likeMale,userAgeA:d.ageA,userAgeB:d.ageB})})})})})},$scope.changeView("content"),$scope.toggleHeaderBtn=function(a){$(".header .btn").addClass("hidden"),$(a).toggleClass("hidden")},$scope.changeContainer=function(){$(".img-logo").toggleClass("hidden"),$(".main-container").hasClass("container")?($(".main-container").removeClass("container"),$(".main-container").addClass("container-fluid"),$(".main-container .header").addClass("displayN")):($(".main-container").addClass("container"),$(".main-container").removeClass("container-fluid"),$(".main-container .header").removeClass("displayN"))},$scope.togglePreferencesList=function(a){var b=$(a.target);$(".preferences-control .btn").removeClass("active"),b.addClass("active")},$scope.fillPreferencesList=function(a){var b;switch(a){case"like":b=$scope.ObjectLike.like;break;case"dislike":b=$scope.ObjectLike.dislike}$(".list-wrapper").empty();for(var c="",d=0,e=0;e<b.length;e++)0==d&&(c+="<div class='row'>"),c+="<div class='col-xs-6 col-sm-4'><div class='list-card'><div class='content-image'><img src='"+b[e].imagen+"' alt=''></div><div class='detail-card'><p class='card-name'>"+b[e].nombre+"</p><div class='like-count'><span class='counter'>"+b[e].like+"</span><div class='like-btn'></div></div></div></div></div>",d++,$(window).width()<420?2==d&&(c+="</div>",d=0):3===d&&(c+="</div>",d=0);$(".list-wrapper").append(c)},$scope.collectionsList,$scope.pruebasArray=[],$scope.getCollectionList=function(){$(".full-overlay").removeClass("hidden"),$(".full-overlay img").addClass(".rotate");var a=0,b=firebase.database().ref("collections/");b.once("value").then(function(b){var c=b.val();console.log(b),$timeout(function(){$scope.pruebasArray=[]}),$.each(c,function(b,c){"N"==c.block&&(a+=1)}),$.each(c,function(b,c){"N"==c.block&&$timeout(function(){$scope.pruebasArray.push({id_collection:b,coverUrl:c.coverUrl,name:c.name}),a==$scope.pruebasArray.length?($timeout(function(){$(".porcent-upload").text("100%")},500),$timeout(function(){$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".porcent-upload").text("0%")},800)):0!=$scope.pruebasArray.length&&a!=$scope.pruebasArray.length&&$timeout(function(){$(".porcent-upload").text("50%")},300)})})})},$scope.getCollectionList(),$scope.selectCollection=function(a,b){var b=$(event.target);$scope.getCollectionNotebooks(a),b.css("opacity","0.5"),b.parent().unbind().removeData(),$("#collection-modal").modal("hide")},$scope.selectionGender=Fact.userGender.gender,$scope.selectionAges=Fact.userAge.age,$scope.getSelectedNotebook=function(a,b){var c,d,e,f,g,h,i;i=a;var j=firebase.database().ref("notebooks/"+a);j.once("value").then(function(a){var j=a.val();switch(c=j.likes,d=j.dislikes,e=j.likeFemale,f=j.likeMale,g=j.ageA,h=j.ageB,b){case"like":c+=1,"H"==$scope.selectionGender?f+=1:e+=1,$scope.selectionAges<20?g+=1:h+=1;break;case"dislike":d+=1}$scope.updateLikes(i,c,d,e,f,g,h)})},$scope.updateLikes=function(a,b,c,d,e,f,g){var h={likes:b,dislikes:c,likeFemale:d,likeMale:e,ageA:f,ageB:g};firebase.database().ref("notebooks/"+a).update(h)},$scope.reduceLikes=function(){var a=($(".pane:hidden:eq(0)"),$(".pane:hidden:eq(0)").data("id")),b=$(".pane:hidden:eq(0)").data("like"),c=$(".pane:hidden:eq(0)").data("dislike"),d=$(".pane:hidden:eq(0)").data("likedtofemale"),e=$(".pane:hidden:eq(0)").data("likedtomale"),f=$(".pane:hidden:eq(0)").data("useragea"),g=$(".pane:hidden:eq(0)").data("userageb"),h={likes:b,dislikes:c,likeFemale:d,likeMale:e,ageA:f,ageB:g};firebase.database().ref("notebooks/"+a).update(h)},$scope.showAction=function(action){eval("$scope.ObjectLike."+action+'.push({"coleccion":$scope.detailElement.notebooks.collection,"nombre":$scope.detailElement.notebooks.name,"imagen":$scope.detailElement.notebooks.coverSource,"like":$scope.detailElement.notebooks.like})'),$scope.getSelectedNotebook($scope.detailElement.notebooks.id),$scope.collectionNotebooks.forEach(function(a,b){$scope.collectionNotebooks[b].id==$scope.detailElement.notebooks.id&&$scope.collectionNotebooks.splice(b,1)},this),$(".detail-button a").unbind().removeData(),$(".detail-button a").click(function(a){a.preventDefault()}),$(".detail-wrapper .card-text").css("opacity","0"),$(".detail-wrapper ."+action).css("opacity","1").queue(function(){setTimeout(function(){angular.element(".btn-back-white").triggerHandler("click")},500)})},$scope.undoSelection=function(){return $scope.cardsEvaluated=$(".pane:hidden").length,0==$scope.cardsEvaluated?(console.log("no disponible"),!1):($scope.reduceLikes(),void $("#swipe-wrapper").jTinder("undo"))},$scope.viewOtherCollection=function(){$("#swipe-wrapper, .reload-btn, .show-filter").show(),$(".finish-step").addClass("hidden"),$("#collection-modal").modal("show")}}]),angular.module("scribeApp").controller("FinishCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("scribeApp").controller("AdminCtrl",["$scope","$http","$timeout","upload","Fact",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.selections="see-collections",a.collection={},a.collectionsList,a.collectionsNames=[],a.notebookObject={},a.collectionSelected,a.selectedCollection=e.collectionDetail.id=null,a.resUploadFile,a.newIdCollect,a.pruebasArray=[];var f=firebase.storage(),g=f.ref();g.child("images"),firebase.database();a.changeView=function(b){"see-collections"==b?(a.selections="see-collections",a.selectedCollection=e.collectionDetail.id=null):"new-collections"==b?(a.selections="new-collections",a.collection={},a.collectionsNames=[],a.notebookObject={},a.getCollectionList(),a.collectionSelected,a.selectedCollection=e.collectionDetail.id=null,a.resUploadFile,a.newIdCollect,$(".collectModal").removeClass("hidden"),$(".notesModal").addClass("hidden")):(a.selections="data-collections",a.getCollectionList(),$(".collectModal").addClass("hidden"),$(".notesModal").removeClass("hidden"),c(function(){a.views(a.viewNotes)},300),$("#return-data").on("click",function(){a.changeView("see-collections")}))},a.getCollectionList=function(){$(".full-overlay").removeClass("hidden"),$(".full-overlay img").addClass(".rotate");var b=firebase.database().ref("collections/");b.on("value",function(b){var d=b.val(),e=b.numChildren();c(function(){a.pruebasArray=[]}),$.each(d,function(b,d){c(function(){a.pruebasArray.push({id_collection:b,coverUrl:d.coverUrl,name:d.name,blocked:d.block}),e==a.pruebasArray.length?(c(function(){$(".porcent-upload").text("100%")},500),c(function(){$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".porcent-upload").text("0%")},800)):0!=a.pruebasArray.length&&e!=a.pruebasArray.length&&c(function(){$(".porcent-upload").text("50%")},300)})}),a.listCollectionNames()})},a.removeDisabled=function(){var b=$(".view-image").attr("src");a.addNotebook=$("#news-notes").find("input.listo"),""==a.collection.name||"#"==b||void 0==a.collection.name||a.addNotebook.length!=a.longMultiple?$("#submit-button").prop("disabled",!0):$("#submit-button").prop("disabled",!1)},a.listCollectionNames=function(){var b;for(a.collectionsNames=[],b=0;b<a.pruebasArray.length;b++)a.collectionsNames.push(a.pruebasArray[b].name)},a.getCollectionList(),a.openFileDialog=function(a){$(a).trigger("click")},a.idNewCollection,a.uploadCollection=function(){if($.inArray(a.collection.name,a.collectionsNames)>-1)return alert("la coleccion ya existe"),!1;$(".full-overlay").removeClass("hidden"),$(".full-overlay img").addClass(".rotate"),$(".action-upload").text("Creando colección");var b=a.collection.name,d=$("#picture").prop("files")[0];console.log(d.name);var e=(g.child(d.name),g.child("collectionCovers/"+d.name)),f=e.put(d);f.on("state_changed",function(a){var b=a.bytesTransferred/a.totalBytes*100;c(function(){$(".porcent-upload").text(b+"%")},500)},function(a){$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".porcent-upload").text("0%"),console.log(a)},function(){f.snapshot.ref.getDownloadURL().then(function(d){console.log(d);var e=d,f={name:b,coverUrl:e,block:"N"},g=firebase.database().ref("collections/").push(f).key;a.globalCollection=g;for(var h=0;h<a.longMultiple;h++)a.transformImages("pictures",h);$(".list-box").each(function(b){a.uploadNotebook(g,this,b)}),a.collection.name="",a.getCollectionList(),$("#picture").val(""),$(".view-image").attr("src","#").addClass("hidden"),$("#submit-button").prop("disabled",!0),$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".porcent-upload").text("0%"),$(".action-upload").text("Cargando"),$("#submitCorrect").modal("show"),a.pruebasAdd=[],a.nameOriginal=[],a.namesNotes=[],a.arrayImages=[],c(function(){$("#submitCorrect").modal("hide"),$("#return-new").trigger("click")},2e3)})})},a.uploadNotebook=function(b,c,d){var e;a.idUpload;var f=$(c).find("img").attr("name");for(e=0;e<a.arrayImages.length;e++)f==a.arrayImages[e].names&&(a.idUpload=e);var h=$(c).find("input").val(),i=a.arrayImages[a.idUpload].realName,j=a.arrayImages[a.idUpload].objectUrl,k=g.child("notebooksCovers"+i),l=k.put(j);l.on("state_changed",function(a){var b=a.bytesTransferred/a.totalBytes*100;console.log("upload is "+b+"% done")},function(a){console.log(a)},function(){l.snapshot.ref.getDownloadURL().then(function(a){console.log(a);var c=a,d={name:h,coverSource:c,likes:0,dislikes:0,likeFemale:0,likeMale:0,ageA:0,ageB:0},e=firebase.database().ref("notebooks/").push(d).key;firebase.database().ref("collections/"+b+"/notebooks").push(e)})})},a.pruebaImagen,a.transformImages=function(b,c){var d=$("#"+b)[0].files[c],e=$("#"+b)[0].files[c].size,f=$("#"+b)[0].files[c].name;a.arrayImages.push({objectUrl:d,names:e,realName:f}),a.count.push(e)},a.readURL=function(b,c){if(b.files&&b.files[0]){var d=new FileReader;d.onload=function(b){$(c).attr("src",b.target.result),$(c).removeClass("hidden"),"#img_prev"==c?a.removeDisabledData():a.removeDisabled()},d.readAsDataURL(b.files[0])}},a.nameOriginal=[],a.longMultiple,a.readURL2=function(b){var c,d;if(a.longMultiple=b.files.length,b.files&&b.files[0])for(c=0;c<b.files.length;c++)d=new FileReader,d.onload=function(b){var c="<div class=' col-md-2 col-sm-4 list-box addNotes' ><img name='"+b.total+"' class='addNotes' src='"+b.target.result+"' /><input type='text' class='general-input' onfocusout='angular.element(this).scope().addNotebookPrueba(this); angular.element(this).scope().removeDisabled()'  placeholder='Nombre de libreta'><p class='text-danger hidden notes-exist'>Nombre existente</p></div>";$("#news-notes").append(c),a.removeDisabled()},d.readAsDataURL(b.files[c])},a.pruebasAdd=[],a.namesNotes=[],a.addNotebookPrueba=function(b){a.pruebas1=$(b).val(),a.indexPrubeas1=$(b).closest(".list-box").index(),a.pruebas2=$(b).siblings("img").attr("src"),a.nameInput=$(b).siblings("img").attr("name"),a.suma=a.newIdCollect+1;var c,d,e=null;for(d=0;d<a.namesNotes.length;d++)a.pruebas1==a.namesNotes[d].names&&(e=d);if(null!=e)return a.pruebas1==a.namesNotes[e].names&&a.indexPrubeas1!=a.namesNotes[e].id?($(b).next().removeClass("hidden").text("Nombre de libreta existente"),$(b).unbind("onfocusout"),!1):($(b).next().addClass("hidden"),$(b).addClass("listo"),!1);if(0==a.pruebas1.length)$(b).next().removeClass("hidden").text("Ingrese nombre"),$(b).unbind("onfocusout");else if($(b).hasClass("listo"))for(var c=0;c<a.pruebasAdd.length;c++){if(0==a.pruebasAdd.length)return!1;a.pruebasAdd[c].name2==a.nameInput&&(a.pruebasAdd[c].name=a.pruebas1,$(b).next().addClass("hidden"))}else $(b).next().addClass("hidden"),$(b).addClass("listo"),a.pruebasAdd.push({collection:a.suma,name:a.pruebas1,coverSource:a.pruebas2,name2:a.nameInput}),a.namesNotes.push({names:a.pruebas1,id:a.indexPrubeas1})},a.eventSelect=null,a.collectionOptions=function(b){a.eventSelect=$(b).siblings("img").attr("value");var c=$(b).siblings("img").data("blocked");"S"==c?console.log("Se remueve el bloqueo"):(a.selectedCollection=e.collectionDetail.id=a.eventSelect,a.viewNotes=a.eventSelect,a.changeView("data-collections"))},a.collectionDelete=function(){var b=a.viewNotes;$(".collectModal").removeClass("hidden"),$(".notesModal").addClass("hidden"),a.eventSelect=null;var c=$("#"+b).find("h1").text().toUpperCase();$(".title").text(c),a.eventSelect=$("#"+b).find("img").attr("value"),a.eventSelect=$("#"+b).find("img").attr("value"),$("#options").modal("show"),$(".no-collect").on("click",function(){$(".collectModal").addClass("hidden"),$(".notesModal").removeClass("hidden")})},a.deleteCollection=function(){var b=a.viewNotes;console.log("key a eliminar"+b),console.log(a.collectionNotebooks);for(var d=0;d<a.collectionNotebooks.length;d++){var e=a.collectionNotebooks[d].id;console.log(e),firebase.database().ref("notebooks/"+e).remove()}firebase.database().ref("collections/"+b).remove(),$("#options").modal("hide"),$("#delete").modal("show"),c(function(){$("#delete").modal("hide"),a.changeView("see-collections"),a.getCollectionList(),a.collectionNotebooks=[]},2e3)},a.arrayImages=[],a.count=[],a.views=function(b){console.log(b),null==a.viewNotes?angular.element(".selectpicker option:eq(2)").prop("selected",!0).trigger("change"):angular.element(".selectpicker option#"+b).prop("selected",!0).trigger("change")},a.removeDisabledData=function(){var b=$("#img_prev").attr("src"),c=$(".selectpicker option:selected").text();""==c||"Colecciones"==c||""==a.notebookObject.name||void 0==a.notebookObject.name||"#"==b?$("#submit-notes").prop("disabled",!0):$("#submit-notes").prop("disabled",!1)},a.globalCollection,a.getNotebooks=function(b){a.collectionNotebooks=[],c(function(){a.collectionNotebooks=[]}),a.globalCollection=b;var d=firebase.database().ref("collections/"+b+"/notebooks");d.once("value").then(function(b){var d=b.val();a.collectionNotebooks=[],$.each(d,function(b,d){var e=firebase.database().ref("notebooks/"+d);e.once("value").then(function(e){var f=e.val();c(function(){a.collectionNotebooks.push({id:d,coverSource:f.coverSource,name:f.name,key:b})})})})})};a.setCollectionData=function(b){var c=b.substring(1);if("Colecciones"==b)$(".btn-red").addClass("disabled").off("click");else{var d=$(".selectpicker option:selected").text();a.notebookObject.name="",$("#img_prev").attr("src","#").addClass("hidden"),$("#fileupload").val(""),$(".note-selected, .title-data-collect").text(" Colección "+d),$(".titles-modal").text(d),$(".btn-red").removeClass("disabled").on("click"),
a.getNotebooks(c),a.notebookObject.collection=a.viewNotes,a.pruebasArray.forEach(function(b,c){b.id_collection==a.viewNotes&&(a.collectionSelected=b.name)},this)}},a.uploadNotebookData=function(){$(".full-overlay").removeClass("hidden"),$(".full-overlay img").addClass(".rotate"),$(".action-upload").text("Creando libreta");var b=$("#fileupload")[0].files[0],d=g.child("notebooksCovers/"+b.name),e=d.put(b);e.on("state_changed",function(a){var b=a.bytesTransferred/a.totalBytes*100;console.log("upload is "+b+"% done"),c(function(){$(".porcent-upload").text(b+"%")},500)},function(a){$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".porcent-upload").text("0%"),console.log(a)},function(){e.snapshot.ref.getDownloadURL().then(function(b){var d=b,e={name:a.notebookObject.name,coverSource:d,likes:0,dislikes:0,likeFemale:0,likeMale:0,ageA:0,ageB:0},f=firebase.database().ref("notebooks/").push(e).key;firebase.database().ref("collections/"+a.globalCollection+"/notebooks").push(f),$(".full-overlay").addClass("hidden"),$(".full-overlay img").removeClass(".rotate"),$(".action-upload").text("Cargando"),$(".porcent-upload").text("0%"),$("#submitCorrect").modal("show"),a.notebookObject={},a.selectedCollections={},$("#fileupload").val(""),$(".view-image").attr("src","#").addClass("hidden"),$("#submit-notes").prop("disabled",!0),c(function(){a.views(a.globalCollection),$("#submitCorrect").modal("hide")},2e3)})})},a.optionNotes=function(b){a.valueId=null,a.valueId=$(b).attr("value"),$("#options").modal("show")},a.deleteNotebooks=function(){var b=a.valueId;console.log(b);for(var d,e=0;e<a.collectionNotebooks.length;e++)a.collectionNotebooks[e].id==b&&(d=a.collectionNotebooks[e].key);var f=firebase.database().ref("collections/"+a.globalCollection+"/notebooks/"+d);f.remove().then(function(){firebase.database().ref("notebooks/"+b).remove(),$("#options").modal("hide"),$("#delete").modal("show"),c(function(){a.valueId=null,a.views(a.globalCollection),$("#delete").modal("hide")},700)})["catch"](function(a){alert("error")})},a.ocultarCandado=function(a){var b=$(a).siblings(".block-div").data("blocked");return"S"==b?!1:void $(a).closest(".list-box").addClass("ocultate-siempre")},a.mostrarCandado=function(a){var b=$(a).siblings(".block-div").data("blocked");return"S"==b?!1:void $(a).closest(".list-box").removeClass("ocultate-siempre")},a.toggleBloqueo=function(b){a.idBlock=$(b).siblings("img").attr("value"),a.actualStatus=$(b).data("blocked"),"N"==a.actualStatus?firebase.database().ref("collections/"+a.idBlock).update({block:"S"}):firebase.database().ref("collections/"+a.idBlock).update({block:"N"})}}]).service("upload",["$http",function(a){this.upload=function(a,b,c,d){}}]),angular.module("scribeApp").controller("NewnotebookCtrl",["$scope","$http","$timeout","upload","Fact",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.urlUpload="https://luisvardez.000webhostapp.com/upload.php",a.collection={},a.collectionsList,a.collectionsNames=[],a.notebookObject={},a.collectionSelected,a.viewNotes=e.collectionDetail.id,a.resUploadFile,a.getCollectionList=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/collection?pageSize=20&pageNumber=1",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1}}).then(function(b){a.collectionsList=b.data.data,a.listCollectionNames()},function(a){alert("error")})},a.removeDisabled=function(){var b=$(".view-image").attr("src"),c=$(".selectpicker option:selected").text();""==c||"Colecciones"==c||""==a.notebookObject.name||void 0==a.notebookObject.name||"#"==b?$("#submit-notes").prop("disabled",!0):$("#submit-notes").prop("disabled",!1)},a.getNotebooks=function(c){b({method:"GET",url:"https://mobile.anzen.digital:8083/scribe/collection/getCollections?query=1&parameter="+a.viewNotes}).then(function(a){console.log("libretas por coleccion"+a)},function(a){alert("error")})},a.getCollectionNotebooks=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/notebook?pageSize=20&pageNumber=1",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1,filter:[{fieldName:"collection",operator:"in",value:"50"}]}}).then(function(a){console.log(a.data.data)},function(a){alert("error")})},a.getCollectionList();var f;a.setCollection=function(b){if("Colecciones"==b)$(".btn-red").addClass("disabled").off("click");else{console.log(b),f=b.toString();var c=$(".selectpicker option:selected").text();$(".note-selected, .title").text(" Colección "+c),$(".btn-red").removeClass("disabled").on("click"),a.getNotebooks(f),a.notebookObject.collection=a.selectedCollection,console.log(a.collectionsList),a.collectionsList.forEach(function(b,c){b.id==a.selectedCollection&&(a.collectionSelected=b.name)},this)}},a.listCollectionNames=function(){var b;for(b=0;b<a.collectionsList.length;b++)a.collectionsNames.push(a.collectionsList[b].name);console.log(a.collectionsNames)},a.getSingleCollection=function(){b({method:"GET",url:"https://api.backand.com:443/1/objects/collection/50",headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1}}).then(function(b){console.log(b.data),a.getCollectionNotebooks()},function(a){alert("error")})},a.openFileDialog=function(a){$(a).trigger("click")},a.uploadNotebook=function(){$(".full-overlay").removeClass("hidden"),d.upload("fileupload",a.collectionSelected,"notebook").then(function(d){"200"==d.status&&(a.notebookObject.coverSource=d.data,a.notebookObject.collection=a.selectedCollection,console.log(a.notebookObject),b.post("https://api.backand.com:443/1/objects/notebook",a.notebookObject,{headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"}}).then(function(b){$(".full-overlay").addClass("hidden"),$("#submitCorrect").modal("show"),a.notebookObject={},a.selectedCollections={},$("#fileupload").val(""),$(".view-image").attr("src","#").addClass("hidden"),$("#submit-notes").prop("disabled",!0),a.getNotebooks(a.selectedCollection),c(function(){$("#submitCorrect").modal("hide")},2e3)},function(a){$(".full-overlay").addClass("hidden"),alert("error")}))})},a.readURL=function(b){if(b.files&&b.files[0]){var c=new FileReader;c.onload=function(b){$("#img_prev").attr("src",b.target.result),$("#img_prev").removeClass("hidden"),a.removeDisabled()},c.readAsDataURL(b.files[0])}},a["export"]=function(a){var b=$(".selectpicker option:selected").text();""==b?alert("Seleccione una colección"):$("#dvData").table2excel({name:"Table2Excel",filename:"Libretas",fileext:".xls"})},a.views=function(b){console.log(a.viewNotes),null==a.viewNotes?angular.element(".selectpicker option:eq(2)").prop("selected",!0).trigger("change"):angular.element(".selectpicker option#"+b).prop("selected",!0).trigger("change")},a.valueId=null,a.optionNotes=function(b){a.valueId=null,a.valueId=$(b).attr("value"),$("#options").modal("show")},a.deleteNotebooks=function(){b({method:"DELETE",url:"https://api.backand.com:443/1/objects/notebook/"+a.valueId,headers:{AnonymousToken:"a3cacd9a-831f-4aa8-8872-7d80470a000e"},params:{pageSize:20,pageNumber:1}}).then(function(b){$("#options").modal("hide"),$("#delete").modal("show"),c(function(){a.valueId=null,$("#delete").modal("hide"),a.getNotebooks(a.selectedCollection)},700)},function(a){alert("error")})},c(function(){a.views(a.viewNotes)},500)}]),angular.module("scribeApp").controller("StatsCtrl",["$scope","$http","$timeout",function(a,b,c){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.labels=["Likes","Dislikes"],a.black=["panel1","panel2"],a.getCollectionList=function(){var b=firebase.database().ref("collections/");b.on("value",function(b){var d=b.val();c(function(){a.collectionsList=[]}),$.each(d,function(b,d){c(function(){a.collectionsList.push({id_collection:b,name:d.name})})}),c(function(){angular.element(".selectpicker option:eq(2)").prop("selected",!0).trigger("change")},1)})},a.globalCollection,a.getCollectionNotebooks=function(b){a.globalCollection=b;var d=firebase.database().ref("collections/"+b+"/notebooks");c(function(){a.collectionNotebooks=[]}),d.on("value",function(b){var d=b.val();$.each(d,function(b,d){var e=firebase.database().ref("notebooks/"+d);e.on("value",function(e){var f=e.val();c(function(){a.collectionNotebooks.push({id:d,coverSource:f.coverSource,name:f.name,key:b,likes:f.likes,dislike:f.dislikes,likedToMale:f.likeMale,likedToFemale:f.likeFemale,userAgeA:f.ageA,userAgeB:f.ageB});for(var c=0;c<a.collectionNotebooks.length;c++)a.dataLikes=[a.collectionNotebooks[c].likes,a.collectionNotebooks[c].dislike],a.collectionNotebooks[c].dataLikes=a.dataLikes,a.dataGender=[a.collectionNotebooks[c].likedToMale,a.collectionNotebooks[c].likedToFemale],a.collectionNotebooks[c].dataGender=a.dataGender,a.dataAges=[a.collectionNotebooks[c].userAgeA,a.collectionNotebooks[c].userAgeB],a.collectionNotebooks[c].dataAges=a.dataAges})})})})},a.quierover=firebase.database().ref("notebooks/"),a.quierover.on("child_changed",function(b){a.getCollectionNotebooks(a.globalCollection)}),a.getCollectionList(),a.setCollection=function(b){if("Elige la colección para ver las estadisticas"==b)$(".btn-red").addClass("black").attr("disabled",!0),$(".list-black").removeClass("hidden"),$(".list-stats").addClass("hidden"),$(".text-stat").text("Selecciona tu colección para poder ver los valores de cada libreta.");else{$(".list-black").addClass("hidden"),$(".list-stats").removeClass("hidden");var c=b,d=$(".selectpicker option:selected").text();$(".text-stat").text("Graficas de la Colección "+d),$(".title").text(d),$(".btn-red").removeClass("black").attr("disabled",!1),a.getCollectionNotebooks(c)}},a.openFileDialog=function(a){$(a).trigger("click")},a.exportToPDF=function(){html2canvas($("#dvData"),{onrendered:function(a){var b=a.toDataURL("image/jpeg"),c=new jsPDF("p","mm");c.addImage(b,"jpeg",20,10,110,60),c.save("Estadisticas.pdf")}})},a.exportToExcel=function(a){var b=$(".selectpicker option:selected").text();""==b||"Elige la colección para ver las estadisticas"==b?alert("Seleccione una colección"):$("#dvData").table2excel({name:"Table2Excel",filename:"Estadisticas",fileext:".xls"})}}]),angular.module("scribeApp").controller("LoginadminCtrl",["$scope","$http","Fact","$filter","$timeout",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.collectionsList,a.userMails=[],a.selection="login",a.changeBG=function(){$(".header img").addClass("marginTAdmin"),$("body").prepend("<div class='bgLogin'></div>")},a.checking=function(){$(".form-check-label").toggleClass("correct")},a.changeBG(),a.changeView=function(b){return a.selection=b,"login"==a.selection?!1:"forgot-password"==a.selection?!1:!1},a.returnLogin=function(){a.changeView("login"),e(function(){$(".forgot").addClass("hidden")},10)},a.sendPass=function(){a.email2=$("#email2").val();var b=new RegExp(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z]{3})+$/),c=new RegExp(/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z]{4,})+$/);1==b.test(a.email2)?a.changeView("send"):($(".email-forgot").removeClass("hidden").text("Ingrese correo eléctronico"),1==c.test(a.email2)&&$(".email-forgot").removeClass("hidden").text("Correo incorrecto"))},a.getCollectionList=function(){var b=firebase.database().ref("users");b.on("value",function(b){var c=b.val();a.collectionNotebooks=[],$.each(c,function(b,c){e(function(){a.userMails.push({id:b,email:c.email,password:c.password})})})}),console.log(a.userMails)},a.getCollectionList(),a.accessAdmin=function(){a.email=$("#email").val(),a.password=$("#password").val(),a.readEmail=d("filter")(a.userMails,{email:a.email})[0],a.readEmail?a.password==a.readEmail.password?($(".bgLogin").remove(),$(".header img").removeClass("marginTAdmin"),$(".red-btn").removeClass("disabled"),$(".enter").addClass("hidden").text(""),window.location="#/admin",a.userEnter=c.userAdmin.id=a.readEmail.id,console.log(a.userEnter)):$(".enter").removeClass("hidden").text("La contraseña es incorrecta"):$(".enter").removeClass("hidden").text("El correo no existe")}}]),angular.module("scribeApp").controller("ConfigCtrl",["$scope","Fact","$http","upload","$timeout",function(a,b,c,d,e){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"],a.urlUpload="https://luisvardez.000webhostapp.com/upload.php",a.selection="edit-profile",a.password,a.resUploadFile,a.selectionUser=b.userAdmin.id,console.log(a.selectionUser),a.changeView=function(b,c){a.selection=b,"edit-profile"==a.selection?(a.getDataUser(),a.activeModule(c)):"change-pass"==a.selection?(a.getDataUser(),a.activeModule(c)):a.activeModule(c)},a.activeModule=function(a){var a=$(event.target);$(".menu2").removeClass("active"),a.addClass("active")},a.checking=function(a){$(a).closest("label").toggleClass("correct")},a.getDataUser=function(){console.log(a.selectionUser);var b=firebase.database().ref("users/"+a.selectionUser);b.on("value",function(b){var c=b.val();$("#name").val(c.name),a.changeName=c.name,a.password=c.password})},a.getDataUser(),a.removeDisabled=function(){var b=$("#name").val(),c=$("#new-pass").val(),d=$("#confirm-pass").val(),e=$("#old-pass").val();""==c||""==d||""==e?($("#change-profile").prop("disabled",!0),b==a.changeName?$("#change-profile").prop("disabled",!0):$("#change-profile").prop("disabled",!1)):$("#change-profile").prop("disabled",!1)},a.changeProfile=function(){a.changeName=$("#name").val();var b=$("#new-pass").val(),c=$("#confirm-pass").val(),d=$("#old-pass").val();0==b.length&&0==c.length&&0==d.length?($(".full-overlay").removeClass("hidden"),firebase.database().ref("users/"+a.selectionUser).update({name:a.changeName}),$(".full-overlay").addClass("hidden"),$("#submitCorrect").modal("show"),$("#change-profile").prop("disabled",!0),e(function(){$("#submitCorrect").modal("hide")},2e3)):0==b.length||0==c.length||0==d.length?$(".enter").removeClass("hidden").text("Llenar todos los campos."):d==a.password?b==c?(console.log(a.selectionUser),$(".full-overlay").removeClass("hidden"),firebase.database().ref("users/"+a.selectionUser).update({name:a.changeName,password:c}),$(".full-overlay").addClass("hidden"),$("#submitCorrect").modal("show"),$("#change-profile").prop("disabled",!0),$("#new-pass, #confirm-pass, #old-pass").val(""),$(".enter").addClass("hidden").text(""),e(function(){$("#submitCorrect").modal("hide")},2e3)):$(".enter").removeClass("hidden").text("Contraseña nueva no coincide."):$(".enter").removeClass("hidden").text("Contraseña actual incorrecta.")}}]),angular.module("scribeApp").run(["$templateCache",function(a){a.put("views/about.html",'<div class="row profile"> <div class="col-xs-12"> <div class="header"> <div class="show-list hidden"></div> <img src="images/scribe-logo.2bb7e09e.svg" alt=""> </div> <div class="content-wrapper genero"> <div class="row"> <div class="col-xs-12"> <div class="main-cover"> <h1>Seleccona tu perfil y edad</h1> <div class="col-xs-4 col-xs-offset-2"> <img src="images/card-men.2cc06145.svg" alt="" data-genero="H"> </div> <div class="col-xs-4"> <img src="images/card-woman.4ac0e4a0.svg" alt="" data-genero="M"> </div> </div> </div> </div> <div class="row"> <div class="col-xs-12"> <input type="number" class="center-block age-input" placeholder="¿Cual es tu edad?" ng-keyup="readAge(edad)" ng-model="edad"> <a class="privacy-link" target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">Consulta nuestro aviso de privacidad</a> <a ng-click="sendDataUser(this);"><div class="red-btn">Continuar</div></a> </div> </div> </div> </div> </div>'),a.put("views/admin.html",'<div class="full-overlay hidden"> <div class="wrapper-load"> <p class="action-upload">Cargando</p> <img src="images/loading.4df619b8.svg" alt="" class="center-block rotate"> <span class="porcent-upload">0%</span> </div> </div> <div class="wrapper"> <div class="row"> <div class="col-md-1 col-sm-2"> <div class="menu-box"> <div class="icon-box"> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> <ul class="nav flex-column"> <li class="nav-item"> <a class="nav-link active" href="#/admin"> <span class="ico collect"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/stats"> <span class="ico stat"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/config"> <span class="ico settings"></span> </a> </li> </ul> <div class="exit-box"> <a class="nav-link" href="#/loginAdmin"> <span class="exit"></span> </a> <div class="termins admin-link"> <a target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">© Terminos y condiciones</a> </div> </div> </div> </div> <div class="col-md-11 col-sm-10"> <div class="collections-wrapper" ng-switch="selections"> <div ng-switch-when="see-collections"> <div class="row marginL0"> <div class="heading"> <div class="col-sm-4"> <p class="title-admins">Colecciones</p> <span class="select"></span> </div> <div class="col-sm-4 col-sm-offset-3"> <button type="button" class="btn btn-allred" ng-click="changeView(\'new-collections\')"> Crear nueva colección</button> </div> </div> <div class="collection-list"> <div class="col-md-2 col-sm-4 list-box" data-ng-repeat="collection in pruebasArray"> <img data-ng-src="{{collection.coverUrl}}" value="{{collection.id_collection}}" data-blocked="{{collection.blocked}}" alt=""> <div class="block-div" data-blocked="{{collection.blocked}}" onclick="angular.element(this).scope().toggleBloqueo(this)"><span></span></div> <h1 onclick="angular.element(this).scope().collectionOptions(this)" onmouseenter="angular.element(this).scope().ocultarCandado(this)" onmouseout="angular.element(this).scope().mostrarCandado(this)">{{collection.name}}</h1> </div> </div> <div id="dvData" class="hidden"> <table> <thead> <tr> <th>Nombre de colección</th> </tr> </thead> <tbody> <tr data-ng-repeat="collection in pruebasArray"> <td>{{collection.name}}</td> </tr> </tbody> </table> </div> </div> </div> <div ng-switch-when="new-collections"> <div class="row marginL0"> <div class="col-sm-12 paddingLess"> <p class="title-admin"><span id="return-new" class="return" ng-click="changeView(\'see-collections\')"></span>Crear una nueva colección</p> </div> <p class="light-text">NOMBRE DE COLECCIÓN</p> <div class="col-md-3 col-sm-6 paddingLess"> <input type="text" placeholder="Ingresa un nombre" class="general-input" ng-keyup="removeDisabled()" data-ng-model="collection.name" id="nombre"> </div> <div class="col-md-3 col-sm-6"> <form method="post" enctype="multipart/form-data" action=""> <input type="file" name="files" id="picture" accept="image/*" class="hidden" onchange="angular.element(this).scope().readURL(this, \'#img_prev3\')"> <div class="fileUpload btn btn-gray" ng-click="openFileDialog(\'#picture\')"> <span>Agregar portada</span> </div> </form> </div> <div class="col-md-3 col-sm-10"> <img id="img_prev3" src="#" alt="your image" class="hidden view-image"> </div> </div> <div class="row marginL0 marginT20"> <p class="light-text">AGREGAR LIBRETAS</p> <div class="col-sm-12"> <div class="collection-list" id="news-notes"> </div> </div> <div class="col-md-3 col-sm-6 paddingLess"> <form method="post" enctype="multipart/form-data" action=""> <input type="file" name="files[]" id="pictures" class="hidden" multiple accept="image/*" onchange="angular.element(this).scope().readURL2(this)"> <div class="fileUpload btn btn-gray" ng-click="openFileDialog(\'#pictures\')"> <span>Agregar libretas</span> </div> </form> </div> </div> <div class="row"> <div class="col-sm-12 paddingLess bottom"> <button type="submit" class="btn btn-allred" disabled id="submit-button" data-ng-click="uploadCollection()">Cargar colección</button> </div> </div> </div> <div ng-switch-when="data-collections"> <div class="notebooks-wrapper section"> <div class="row marginL0"> <div class="col-sm-12 paddingLess"> <p class="title-admin capitalize"> <span class="return" id="return-data" ng-click="changeView(\'see-collections\')"></span> <span class="title-data-collect"></span> </p> </div> </div> <!-- 	ME QUEDE AQUI --> <div class="row marginL0"> <p class="light-text">DAR DE ALTA UNA NUEVA LIBRETA</p> <div class="col-md-3 col-sm-6 paddingLess"> <select class="selectpicker general-input capitalize" data-ng-model="selectedCollection" data-ng-change="setCollectionData(selectedCollection); removeDisabledData()"> <option class="selected">Colecciones</option> <option ng-repeat="collection in pruebasArray" id="{{collection.id_collection}}" value="P{{collection.id_collection}}">{{collection.name}}</option> </select> </div> <div class="col-md-3 col-sm-5"> <input type="text" placeholder="Nombre" id="nombre" ng-keyup="removeDisabledData()" class="general-input" data-ng-model="notebookObject.name"> </div> <div class="col-md-3 col-sm-6 submit-notebook paddingLess"> <form method="post" enctype="multipart/form-data" action=""> <input id="fileupload" type="file" name="files" class="hidden" accept="image/*" onchange="angular.element(this).scope().readURL(this, \'#img_prev\')"> <div class="fileUpload btn btn-gray" ng-click="openFileDialog(\'#fileupload\')"> <span>Agregar imagen de libreta</span> </div> </form> </div> <div class="col-md-3 col-sm-10"> <img id="img_prev" src="#" alt="your image" class="hidden view-image"> </div> <div class="col-sm-12 marginT20 paddingLess"> <button type="submit" class="btn btn-allred" disabled id="submit-notes" data-ng-click="uploadNotebookData()">Cargar</button> </div> </div> <div class="row marginL0"> <div class="heading"> <p>Cargar Libreta /<span class="text-bold note-selected capitalize"></span></p> <span class="select"></span> </div> <div class="collection-list no-top"> <div class="col-md-2 col-sm-4 list-box" data-coleccion="{{notebooks.collectionId}}" data-id="{{notebooks.id}}" data-nombre="{{notebooks.name}}" data-ng-repeat="notebooks in collectionNotebooks | orderBy : \'name\'"> <img data-ng-src="{{notebooks.coverSource}}" value="{{notebooks.id}}" onclick="angular.element(this).scope().optionNotes(this)" alt=""> <h1 class="title-note">{{notebooks.name}}</h1> </div> </div> </div> <div class="row"> <div class="col-sm-12 paddingLess bottom"> <button type="submit" class="btn btn-allred" data-ng-click="collectionDelete()">Eliminar colección</button> </div> </div> </div> </div> </div> </div> </div> </div> <!-- MODAL CARGADA EXITOSAMENTE --> <div class="modal fade" id="submitCorrect" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="collectModal"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">NUEVA COLECCIÓN</h5> </div> <div class="modal-body"> <p>Cargada exitósamente.</p> </div> </div> <div class="notesModal hidden"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">NUEVA LIBRETA</h5> </div> <div class="modal-body"> <p>Cargada exitósamente.</p> </div> </div> </div> </div> </div> <!-- MODAL ACCIONES --> <div class="modal fade" id="options" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content" class="collectModal"> <div class="collectModal"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">COLECCIÓN <span class="titles-modal"></span></h5> <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">&times;</span> </button> </div> <div class="modal-body option-delete"> <p>¿Desea eliminar la colección?</p> <div class="row"> <div class="col-sm-6"> <button type="submit" class="btn btn-allred yes" ng-click="deleteCollection()">Sí</button> </div> <div class="col-sm-6"> <button type="submit" class="btn btn-allred no-collect" data-dismiss="modal" aria-label="Close">No</button> </div> </div> </div> </div> <div class="notesModal hidden"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">ELIMINAR LIBRETA</h5> </div> <div class="modal-body"> <p>¿Desea eliminar la libreta?</p> <div class="row"> <div class="col-sm-6"> <button type="submit" class="btn btn-allred yes" ng-click="deleteNotebooks()">Sí</button> </div> <div class="col-sm-6"> <button type="submit" class="btn btn-allred no" data-dismiss="modal" aria-label="Close">No</button> </div> </div> </div> </div> </div> </div> </div> <!-- MODAL DELETE --> <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content" class="collectModal"> <div class="collectModal"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">ELIMINAR COLECCIÓN</h5> </div> <div class="modal-body"> <p>La colección se ha eliminado exitósamente.</p> </div> </div> <div class="notesModal hidden"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">ELIMINAR LIBRETA</h5> </div> <div class="modal-body"> <p>La libreta ha sido eliminada exitósamente.</p> </div> </div> </div> </div> </div>'),a.put("views/config.html",'<div class="full-overlay hidden"> <img src="images/preloader.cadf7e69.gif" alt="" class="center-block"> </div> <div class="wrapper"> <div class="row"> <div class="col-md-1 col-sm-2"> <div class="menu-box"> <div class="icon-box"> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> <ul class="nav flex-column"> <li class="nav-item"> <a class="nav-link" href="#/admin"> <span class="ico collect"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/stats"> <span class="ico stat"></span> </a> </li> <li class="nav-item"> <a class="nav-link active" href="#/config"> <span class="ico settings"></span> </a> </li> </ul> <div class="exit-box"> <a class="nav-link" href="#/loginAdmin"> <span class="exit"></span> </a> <div class="termins admin-link"> <a target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">© Terminos y condiciones </a> </div> </div> </div> </div> <div class="col-md-11 col-sm-10"> <div class="config-wrapper"> <div class="row marginL0"> <div class="col-md-3 col-sm-5"> <p class="title-admin">Configuración</p> <p class="light-text">MIS DATOS</p> </div> </div> <div class="row"> <div class="col-md-3 col-sm-4"> <ul class="nav flex-column"> <li class="nav-item"> <a class="nav-link menu2 active" href="">Editar perfil</a> </li> </ul> </div> <div class="col-md-9 col-sm-8"> <div class="edit"> <div class="row"> <div class="edit-box"> <div class="col-sm-12"><p>Editar usuario</p></div> <div class="col-md-4"> <input type="text" id="name" ng-keyup="removeDisabled()" class="general-input"> </div> <div class="col-sm-12"><p>Editar contraseña</p></div> <div class="col-md-4"> <input type="text" data-ng-model="pass" id="old-pass" ng-keyup="removeDisabled()" placeholder="Contraseña anterior" class="general-input"> </div> <div class="col-md-4"> <input type="text" id="new-pass" placeholder="Nueva contraseña" ng-keyup="removeDisabled()" class="general-input"> </div> <div class="col-md-4"> <input type="text" id="confirm-pass" ng-keyup="removeDisabled()" placeholder="Confirmar nueva contraseña" class="general-input"> </div> <div class="col-md-4"> <span class="text-danger enter hidden"></span> <button type="submit" ng-click="changeProfile()" id="change-profile" disabled class="btn btn-allred">Realizar cambios</button> </div> </div> </div> </div> <!-- 						<div class="password">\r\n							<div class="col-sm-3">\r\n								<p class="text-right">Contraseña anterior</p>\r\n								<p class="text-right">Contraseña nueva</p>\r\n								<p class="text-right">Confirmar contraseña nueva</p>\r\n							</div>\r\n							<div class="col-sm-9">\r\n								<input type="text" data-ng-model="pass" id="old-pass" class="general-input">\r\n								<input type="text" id="new-pass"  class="general-input">\r\n								<input type="text" id="confirm-pass" class="general-input">\r\n								<button type="submit" ng-click="changePassword()" id="password-button" class="btn btn-allred">Cambiar contraseña</button>\r\n							</div>\r\n						</div> --> <!-- 						<div class="info">\r\n							<div class="col-sm-2">\r\n								<div class="form-check squaredFour">\r\n									<label class="form-check-label">\r\n										<input type="checkbox" ng-click="checking(\'#squaredFour1\')" class="form-check-input" value="None" id="squaredFour1" name="check" >\r\n									</label>\r\n									\r\n								</div>\r\n								<div class="form-check squaredFour">\r\n									<label class="form-check-label">\r\n										<input type="checkbox" ng-click="checking(\'#squaredFour2\')"  class="form-check-input" value="None" id="squaredFour2" name="check" >\r\n									</label>\r\n								</div>\r\n							</div>\r\n							<div class="col-sm-10">\r\n								<p class="text-info">Correos electrónicos de noticias<br/>Conoce antes que nadie los nuevos productos</p>\r\n								<p class="text-info">Mensajes de Texto (SMS)<br/>Recibe notificaciones de recordatorios por mensaje de texto</p>\r\n							</div>\r\n						</div> --> </div> </div> </div> </div> </div> </div> <div class="modal fade" id="submitCorrect" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">EDITAR PERFIL</h5> </div> <div class="modal-body"> <p>Su información ha sido modificada.</p> </div> </div> </div> </div>'),a.put("views/finish.html",'<div class="header"> <div class="show-list hidden"></div> <img src="images/scribe-logo.2bb7e09e.svg" alt=""> </div> <div class="content-wrapper"> <div class="row finish"> <div class="col-xs-12"> <div class="main-cover"> <img src="images/Group.403961a9.png" alt=""> </div> <h1>Muchas gracias por tu participaci&oacute;n</h1> <a href="#/main"><div class="red-btn">Terminar</div></a> </div> </div> </div>'),a.put("views/loginadmin.html",'<!-- <div class="bgLogin"></div> --> <div class="header"> <div class="show-list hidden"></div> <img src="images/scribe-logo.2bb7e09e.svg" alt=""> </div> <div class="content-wrapper" ng-switch="selection"> <div class="row login-admin"> <div class="col-xs-12"> <div ng-switch-when="login"> <h1>Inicia sesión</h1> <div class="form-group"> <input type="text" class="form-control email-input general-input" id="email" placeholder="yourname@domain.com" ng-model="email"> </div> <div class="form-group"> <input type="password" class="form-control pass-input general-input" id="password" ng-model="password"> </div> <h1 class="text-danger enter hidden">Ingrese correo eléctronico</h1> <div class="red-btn disabled" ng-click="accessAdmin()">Accesar</div> <!-- 		<div class="form-check squaredFour">\r\n						<label class="form-check-label">\r\n								<input type="checkbox" class="form-check-input" ng-click="checking()" value="None" id="squaredFour" name="check" >\r\n						</label>\r\n						<span class="textCheck">Recordar contraseña</span>\r\n				</div> --> <div class="forgot"> <p ng-click="changeView(\'forgot-password\')">¿Olvido su contraseña?<span class="ico-help" ng-click="changeView(\'forgot-password\')"></span></p> </div> </div> <div ng-switch-when="forgot-password"> <h1>Cambio de contraseña</h1> <div class="form-group"> <input type="text" id="email2" class="form-control email-input general-input" placeholder="yourname@domain.com"> <h1 class="text-danger email-forgot hidden">Ingrese correo eléctronico</h1> </div> <div class="red-btn" ng-click="sendPass()" id="send-button">Enviar solicitud</div> <div class="red-btn" ng-click="changeView(\'login\')">Cancelar</div> </div> <div ng-switch-when="send"> <h1 class="marginT70">¡Solicitud enviada!</h1> <h1 class="send-mail">En breve recibirás un correo con los nuevos datos.</h1> <div class="red-btn disabled" ng-click="returnLogin()">Regresar</div> </div> </div> </div> <div class="termins center login"> <a target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">© Terminos y condiciones</a> </div> </div>'),a.put("views/main.html",'<div class="header main"> <div class="show-list hidden"></div> <img src="images/scribe-logo.2bb7e09e.svg" alt="" class="img-main"> </div> <div class="content-wrapper"> <div class="row login"> <div class="col-xs-12"> <!-- <div class="main-cover">\r\n	            <img src="images/cover-bkgnd.75ebc370.png" alt="">\r\n	        </div> --> <h1>Ay&uacute;danos a escoger los diseños que prefieras, para tus libretas y cuadernos.</h1> <a href="#/about"><div class="red-btn">Iniciar</div></a> </div> </div> </div>'),
a.put("views/newnotebook.html",'<div class="full-overlay hidden"> <img src="images/preloader.cadf7e69.gif" alt="" class="center-block"> </div> <div class="wrapper"> <div class="row"> <div class="col-md-1 col-sm-2"> <div class="menu-box"> <div class="icon-box"> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> <ul class="nav flex-column"> <li class="nav-item"> <a class="nav-link" href="#/admin"> <span class="ico collect"></span> </a> </li> <li class="nav-item"> <a class="nav-link active" href="#/newnotebook"> <span class="ico notes"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/stats"> <span class="ico stat"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/config"> <span class="ico settings"></span> </a> </li> </ul> <div class="exit-box"> <a class="nav-link" href="#/loginAdmin"> <span class="exit"></span> </a> <div class="termins"> <a target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">© Terminos y condiciones</a> </div> </div> </div> </div> <div class="col-md-11 col-sm-10"> <div class="notebooks-wrapper section"> <div class="row marginL0"> <div class="col-md-3 col-sm-5 paddingLess"> <p class="title-admin">Libretas</p> </div> </div> <div class="row marginL0"> <p class="light-text">DAR DE ALTA UNA NUEVA LIBRETA</p> <div class="col-md-3 col-sm-6 paddingLess"> <select class="selectpicker general-input capitalize" data-ng-model="selectedCollection" data-ng-change="setCollection(selectedCollection); removeDisabled()"> <option class="selected">Colecciones</option> <option ng-repeat="collection in collectionsList" id="{{collection.id}}" ng-value="{{collection.id}}">{{collection.name}}</option> </select> </div> <div class="col-md-3 col-sm-5"> <input type="text" placeholder="Nombre" id="nombre" ng-keyup="removeDisabled()" class="general-input" data-ng-model="notebookObject.name"> </div> <!-- 					<div class="col-md-5 col-sm-12">\r\n						<input type="text" placeholder="Descripción" ng-keyup="removeDisabled()" id="descripcion" class="general-input" data-ng-model="notebookObject.descripcion">\r\n					</div> --> <div class="col-md-3 col-sm-6 submit-notebook paddingLess"> <div class="fileUpload btn btn-gray" ng-click="openFileDialog(\'#fileupload\')"> <span>+ Imagen de portada</span> </div> <div> <input id="fileupload" type="file" name="files" class="hidden" accept="image/*" onchange="angular.element(this).scope().readURL(this)"> </div> </div> <!-- 					<div class="col-md-3 col-sm-4 marginT20">\r\n						<div class="fileUpload btn btn-gray" ng-click="openFileDialog(\'#fileupload2\')">\r\n							<span>+ Imagen del detalle</span>\r\n						</div>\r\n						<div>\r\n							<input id="fileupload2" type="file" name="files[]" class="hidden" accept="image/*" multiple onchange="angular.element(this).scope().readURL(this, \'#img_prev2\')">\r\n						</div>\r\n						\r\n					</div> --> <div class="col-sm-12 marginT20 paddingLess"> <button type="submit" class="btn btn-allred" disabled id="submit-notes" data-ng-click="uploadNotebook()">Cargar</button> </div> <div class="col-md-4 col-sm-10"> <img id="img_prev" src="#" alt="your image" class="hidden view-image margins"> <!-- <img id="img_prev2" src="#" alt="your image"  class="hidden view-image margins"/> --> </div> </div> <div class="row marginL0"> <div class="heading"> <p>Cargar Libreta /<span class="text-bold note-selected capitalize"></span></p> <span class="select"></span> </div> <div class="collection-list no-top"> <div class="col-md-2 col-sm-4 list-box" data-coleccion="{{notebooks.collection}}" data-id="{{notebooks.id}}" data-nombre="{{notebooks.name}}" data-ng-repeat="notebooks in collectionNotebooks"> <img data-ng-src="https://luisvardez.000webhostapp.com/{{notebooks.coverSource}}" value="{{notebooks.id}}" onclick="angular.element(this).scope().optionNotes(this)" alt=""> <h1 class="title-note">{{notebooks.name}}</h1> </div> </div> <div id="dvData" class="hidden"> <p class="title"></p> <table> <thead> <tr> <th class="title"></th> </tr> <tr> <th colspan="2">Libreta</th> <th colspan="2">Descripción</th> </tr> </thead> <tbody> <tr data-ng-repeat="notebooks in collectionNotebooks"> <td colspan="2">{{notebooks.name}}</td> <td colspan="2">{{notebooks.descripcion}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> <!-- MODAL NUEVA LIBRETA --> <div class="modal fade" id="submitCorrect" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">NUEVA LIBRETA</h5> </div> <div class="modal-body"> <p>Cargada exitósamente.</p> </div> </div> </div> </div> <!-- MODAL OPCIONES DELETE --> <div class="modal fade" id="options" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">ELIMINAR LIBRETA</h5> </div> <div class="modal-body"> <p>¿Desea eliminar la libreta?</p> <div class="row"> <div class="col-sm-6"> <button type="submit" class="btn btn-allred yes" ng-click="deleteNotebooks()">Sí</button> </div> <div class="col-sm-6"> <button type="submit" class="btn btn-allred no" data-dismiss="modal" aria-label="Close">No</button> </div> </div> </div> </div> </div> </div> <!-- MODAL ELIMINAR LIBRETA --> <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <h5 class="modal-title" id="exampleModalLabel">ELIMINAR LIBRETA</h5> </div> <div class="modal-body"> <p>La libreta ha sido eliminada exitósamente.</p> </div> </div> </div> </div>'),a.put("views/stats.html",'<div class="wrapper"> <div class="row"> <div class="col-md-1 col-sm-2"> <div class="menu-box"> <div class="icon-box"> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> <ul class="nav flex-column"> <li class="nav-item"> <a class="nav-link" href="#/admin"> <span class="ico collect"></span> </a> </li> <li class="nav-item"> <a class="nav-link active" href="#/stats"> <span class="ico stat"></span> </a> </li> <li class="nav-item"> <a class="nav-link" href="#/config"> <span class="ico settings"></span> </a> </li> </ul> <div class="exit-box"> <a class="nav-link" href="#/loginAdmin"> <span class="exit"></span> </a> <div class="termins admin-link"> <a target="_blank" href="http://www.scribe.com.mx/aviso-de-privacidad/">© Terminos y condiciones</a> </div> </div> </div> </div> <div class="col-md-11 col-sm-10"> <div class="stats-wrapper section"> <div class="row marginL0 this"> <div class="col-md-3 col-sm-5 paddingLess"> <p class="title-admin">Estadísticas</p> </div> <div class="col-sm-7 col-md-offset-2"> <button type="button" class="btn btn-red export black" disabled ng-click="exportToExcel()"> <span class="fill"></span> Exportar a Excel</button> <button type="button" class="btn btn-red export black margin-r10" disabled ng-click="exportToPDF()"> <span class="fill"></span> Exportar a PDF</button> </div> </div> <div class="row marginL0"> <p class="light-text no-marginB">ADMINISTRACIÓN DE ESTADÍSTICAS</p> </div> <div class="row marginL0"> <div class="col-md-4 col-sm-8 paddingLess marginT20"> <select class="selectpicker general-input capitalize" ng-change="setCollection(selections)" ng-model="selections"> <option class="selected">Elige la colección para ver las estadisticas</option> <option data-ng-repeat="collection in collectionsList" value="{{collection.id_collection}}">{{collection.name}}</option> </select> </div> <div id="Imprimeaqui"> <div class="heading col-sm-12"> <p class="text-stat">Selecciona tu colección para poder ver los valores de cada libreta.</p> <span class="select"></span> </div> <div class="col-sm-12"> <div class="list-black"> <div class="panel panel-default" ng-repeat="x in black"> <div class="panel-body" id="{{x}}"> <div class="row"> <div class="col-sm-3"> <img src="images/black_notes.9266ef3f.png" alt=""> <div class="pruebas"></div> </div> <div class="col-sm-3"> <span class="ico gender">Género</span> <canvas id="gender-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#AAC1EC\', \'#F8BD97\']" chart-data="[40, 60]" chart-labels="[\'Hombres\', \'Mujeres\']"></canvas> </div> <div class="col-sm-3"> <span class="ico ages">Edades</span> <canvas id="age-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#E4D6F9\',\'#DBF3C2\']" chart-data="[40, 60]" chart-labels="[\'17-20\', \'21-27\']"></canvas> </div> <div class="col-sm-3"> <span class="ico likes-icon">Likes</span> <canvas id="like-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#A7F0E0\',\'#E77F8C\']" chart-data="[40, 60]" chart-labels="labels"></canvas> </div> </div> </div> </div> </div> <div class="list-stats"> <div class="panel panel-default" data-ng-repeat="notebooks in collectionNotebooks | orderBy : \'name\'" data-coleccion="{{notebooks.collection}}" data-id="{{notebooks.id}}" data-nombre="{{notebooks.name}}"> <div class="panel-body"> <div class="row"> <div class="col-sm-3"> <img data-ng-src="{{notebooks.coverSource}}" alt=""> </div> <div class="col-sm-3"> <span class="ico gender">Género</span> <canvas id="gender-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#AAC1EC\', \'#F8BD97\']" chart-data="notebooks.dataGender" chart-labels="[\'Hombres\', \'Mujeres\']"></canvas> <p><span class="border-Male">{{(notebooks.likedToMale * 100 / (notebooks.likedToFemale + notebooks.likedToMale) | number:0)}}%</span><span class="detail"> Hombres</span></p> <p><span class="border-Female">{{(notebooks.likedToFemale * 100 / (notebooks.likedToFemale + notebooks.likedToMale) | number:0)}}%</span><span class="detail"> Mujeres</span></p> </div> <div class="col-sm-3"> <span class="ico ages">Edades</span> <canvas id="age-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#E4D6F9\',\'#DBF3C2\']" chart-data="notebooks.dataAges" chart-labels="[\'17-20\', \'21-27\']"></canvas> <p><span class="border-ageA">{{(notebooks.userAgeA * 100 / (notebooks.userAgeA + notebooks.userAgeB) | number:0)}}%</span><span class="detail"> 16 - 20</span></p> <p><span class="border-ageB">{{(notebooks.userAgeB * 100 / (notebooks.userAgeA + notebooks.userAgeB) | number:0)}}%</span><span class="detail"> 21 - 40</span></p> </div> <div class="col-sm-3"> <span class="ico likes-icon">Likes</span> <canvas id="like-chart-{{notebooks.id}}" class="chart chart-doughnut" chart-colors="[\'#A7F0E0\',\'#E77F8C\']" chart-data="notebooks.dataLikes" chart-labels="labels"></canvas> <p><span class="border-Like">{{(notebooks.likes * 100 / (notebooks.likes + notebooks.dislike) | number:0)}}%</span><span class="detail"> Likes</span></p> <p><span class="border-Dislike">{{(notebooks.dislike * 100 / (notebooks.likes + notebooks.dislike) | number:0)}}%</span><span class="detail"> Dislikes</span></p> </div> </div> </div> </div> </div> <div id="editor"></div> <div id="dvData"> <p>Colección <span class="title"></span></p> <table class="lol"> <thead> <tr class="empieza"> <th colspan="2">Libreta</th> <th colspan="2">Genero</th> <th colspan="2">Edades</th> <th colspan="2">Likes</th> </tr> </thead> <tbody> <tr> <td colspan="2"></td> <td>Hombre</td> <td>Mujer</td> <td>17-20</td> <td>21-27</td> <td>Likes</td> <td>Dislikes</td> </tr> <tr data-ng-repeat="notebooks in collectionNotebooks"> <td colspan="2">{{notebooks.name}}</td> <td>{{(notebooks.likedToMale * 100 / (notebooks.likedToFemale + notebooks.likedToMale) | number:0)}}%</td> <td>{{(notebooks.likedToFemale * 100 / (notebooks.likedToFemale + notebooks.likedToMale) | number:0)}}%</td> <td>{{(notebooks.userAgeA * 100 / (notebooks.userAgeA + notebooks.userAgeB) | number:0)}}%</td> <td>{{(notebooks.userAgeB * 100 / (notebooks.userAgeA + notebooks.userAgeB) | number:0)}}%</td> <td>{{(notebooks.like * 100 / (notebooks.like + notebooks.dislike) | number:0)}}%</td> <td>{{(notebooks.dislike * 100 / (notebooks.like + notebooks.dislike) | number:0)}}%</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> </div> </div> </div>'),a.put("views/swipe.html",'<div class="full-overlay hidden"> <div class="wrapper-load"> <p class="action-upload">Cargando</p> <img src="images/loading.4df619b8.svg" alt="" class="center-block rotate"> <span class="porcent-upload">0%</span> </div> </div> <!-- Modal --> <div class="modal fade" id="collection-modal" tabindex="-1" role="dialog" aria-labelledby="collection-modalLabel"> <div class="modal-dialog" role="document"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button> <h3 class="modal-title text-center" id="collection-modalLabel">Colecciones</h3> <h4 class="text-center">Elige la colección de libretas que deseas ver</h4> </div> <div class="modal-body"> <div class="row"> <div class="collection-wrapper col-sm-4 col-xs-6" data-ng-repeat="collection in pruebasArray" data-ng-click="selectCollection(collection.id_collection,$event)"> <img data-ng-src="{{collection.coverUrl}}" alt=""> <h1>{{collection.name}}</h1> </div> </div> </div> </div> </div> </div> <div ng-switch="selection"> <div class="header resized"> <div class="row"> <div class="btn show-list" ng-click="changeView(\'preferences\');toggleHeaderBtn(\'.btn-back, .prefers-title, .img-logo\');"></div> <div class="btn show-filter" onclick="$(\'#collection-modal\').modal(\'show\')"></div> <div class="btn btn-back hidden" ng-click="changeView(\'content\');toggleHeaderBtn(\'.show-list, .show-filter, .prefers-title, .img-logo\')"></div> <div class="btn btn-back-white hidden" ng-click="changeView(\'content\');toggleHeaderBtn(\'.show-list, .show-filter\');changeContainer();"></div> <span class="prefers-title hidden">Preferencias</span> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> </div> <div class="content-wrapper section" ng-switch-when="content"> <div class="square"> <div class="content"> <!--   <div class="row">\r\n                    <div class="col-xs-12"> --> <!-- start padding container --> <!-- <div class="wrap"> --> <!-- start jtinder container --> <div class="finish-step hidden"> <div class="row finish"> <div class="col-xs-12"> <div class="main-cover"> <img src="images/Group.403961a9.png" alt=""> </div> <h1>¿Qué desea hacer?</h1> <div class="col-sm-6"> <a data-ng-click="viewOtherCollection()"><div class="red-btn btn-finish">Ver otra colección</div></a> </div> <div class="col-sm-6"> <a href="#/main"><div class="red-btn btn-finish">Terminar</div></a> </div> </div> </div> </div> <div id="swipe-wrapper"> <ul> <li class="pane pane1" data-coleccion="{{notebooks.collectionId}}" data-id="{{notebooks.id}}" data-nombre="{{notebooks.name}}" data-imagen="{{notebooks.coverSource}}" data-like="{{notebooks.likes}}" data-dislike="{{notebooks.dislike}}" data-likedtofemale="{{notebooks.likedToFemale}}" data-likedtomale="{{notebooks.likedToMale}}" data-useragea="{{notebooks.userAgeA}}" data-userageb="{{notebooks.userAgeB}}" data-ng-repeat="notebooks in collectionNotebooks | orderBy : \'name\'" my-repeat-directive> <div class="img-wrapper"> <img ng-src="{{notebooks.coverSource}}" alt=""> </div> <p class="slide-name">{{notebooks.name}}</p> <div class="like"></div> <div class="dislike"></div> <!--  <div class="like-count">\r\n                                        <div class="counter">{{notebooks.like}}</div>\r\n                                        <div class="like-btn"></div>\r\n                                    </div> --> </li> </ul> </div> <!-- end jtinder container --> <!-- </div> --> <!-- end padding container --> <!-- jTinder trigger by buttons  --> <div class="actions"> <div class="btn reload-btn" data-ng-click="undoSelection()"></div> <!-- <a href="#" class="dislike"><i></i></a> <a href="#" class="like"><i></i></a> --> <!--  <div class="btn menu-btn" ></div> --> </div> <!-- jTinder status text  --> <div id="status hidden"></div> <!-- </div>\r\n                </div> --> </div> </div> </div> <div class="preferences-wrapper section" ng-switch-when="preferences"> <div class="preferences-control"> <div class="btn like-control active" ng-click="fillPreferencesList(\'like\');togglePreferencesList($event);">LIKES</div> <div class="btn dislike-control" ng-click="fillPreferencesList(\'dislike\');togglePreferencesList($event);">DISLIKES</div> </div> <div class="list-wrapper"> </div> </div> <div class="detail-wrapper section" ng-switch-when="detail"> <div class="row bgBlack"> <div class="btn btn-back-white" ng-click="changeView(\'content\');toggleHeaderBtn(\'.show-list, .show-filter\');changeContainer();"></div> <div class="btn btn-share-white"></div> <div class="like card-text"></div> <div class="dislike card-text"></div> <div class="col-xs-12"> <div class="img-wrapper"> <img src="#" class="img-responsive" alt="" id="img-detail" width="100%;"> </div> </div> </div> <div class="row bgWhite description"> <div class="col-xs-6 title-note">Black</div> <div class="col-xs-6"> <div class="like-btn"></div> <p class="counterLikes">200</p> </div> <div class="col-xs-12"> <p class="descriptionNote">Para ti que haces m&aacute;s que estudiar.<br>Si eres de los que utilizan las &uacute;ltimas p&aacute;ginas de su cuaderno para escribir todo lo que haces ruido en tu cabeza, Black es para ti. </p> </div> <div class="col-xs-12"> <div class="detail-button"> <a href="" ng-click="showAction(\'dislike\')" class="btn-dislike"><i></i></a> <a href="" ng-click="showAction(\'like\')" class="btn-like"><i></i></a> </div> </div> </div> </div> </div>'),a.put("views/uploadform.html",'<div class="full-overlay hidden"> <img src="images/preloader.cadf7e69.gif" alt="" class="center-block"> </div> <div class="header resized"> <div class="row"> <div class="btn btn-back-white hidden" ng-click="changeView(\'content\');toggleHeaderBtn(\'.show-list\');changeContainer();"></div> <img src="images/scribe-logo.2bb7e09e.svg" class="img-logo" alt=""> </div> </div> <div class="row"> <div class="upload-form-wrapper"> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active" data-ng-click="toggleTabContent(\'#upload-collection\');"><a role="tab" data-toggle="tab">Dar de alta nueva colección</a></li> <li data-ng-click="toggleTabContent(\'#upload-notebook\');" role="presentation"><a role="tab" data-toggle="tab">Dar de alta nueva libreta</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="upload-collection"> <h1 class="col-sm-12">Cargar colección</h1> <form> <div class="col-sm-12"> <div class="form-group"> <label for="nombre">Nombre:</label> <input type="text" class="form-control" id="nombre" placeholder="Nombre" data-ng-model="collection.name" style="text-transform:lowercase"> </div> </div> <div class="col-sm-6 col-sm-offset-3"> <div class="form-group"> <span class="btn btn-success fileinput-button"> <i class="glyphicon glyphicon-plus"></i> <span>Agrega la imagen de colección</span> <input type="file" name="files" id="picture" multiple onchange="angular.element(this).scope().readURL(this)"> </span> <img id="img_prev3" src="#" alt="your image" class="hidden"> </div> </div> <div class="col-sm-12"> <button type="submit" class="btn btn-default" data-ng-click="uploadCollection()">Cargar</button> </div> </form> </div> <div role="tabpanel" class="tab-pane" id="upload-notebook"> <h1 class="col-sm-12">Cargar Libreta</h1> <div class="col-sm-6"> <div class="form-group"> <label for="collection">Colección</label> <select id="collection" class="form-control" data-ng-model="selectedCollection" data-ng-change="setCollectionId();"> <option data-ng-repeat="collection in collectionsList" value="{{collection.id}}">{{collection.name}}</option> </select> </div> </div> <div class="col-sm-6"> <div class="form-group"> <label for="nombre">Nombre:</label> <input type="text" class="form-control" id="nombre" placeholder="Nombre" data-ng-model="notebookObject.name"> </div> </div> <div class="col-sm-12"> <div class="form-group"> <label for="descripcion">Descripción:</label> <input type="text" class="form-control" id="descripcion" placeholder="descripcion" data-ng-model="notebookObject.descripcion"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <span class="btn btn-success fileinput-button"> <i class="glyphicon glyphicon-plus"></i> <span>Agrega la imagen de portada</span> <input id="fileupload" type="file" name="files[]" multiple onchange="angular.element(this).scope().readURL(this)"> </span> <img id="img_prev" src="#" alt="your image" class="hidden img-prev"> </div> </div> <div class="col-sm-6"> <div class="form-group"> <span class="btn btn-success fileinput-button"> <i class="glyphicon glyphicon-plus"></i> <span>Agrega la imagen del detalle</span> <input id="fileupload2" type="file" name="files[]" multiple onchange="angular.element(this).scope().readURL(this)"> </span> <img id="img_prev2" src="#" alt="your image" class="hidden img-prev"> </div> </div> <div class="col-sm-12"> <button type="submit" class="btn btn-default" data-ng-click="uploadNotebook()">Submit</button> </div> </div> </div> </div> </div>')}]);